{"ast":null,"code":"import _regeneratorRuntime from\"/Users/zhichengqian/Desktop/Project/ReactProject/MERN/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/zhichengqian/Desktop/Project/ReactProject/MERN/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import api from'../utils/api';import{setAlert}from'./alert';import{GET_PROFILE,GET_PROFILES,PROFILE_ERROR,UPDATE_PROFILE,CLEAR_PROFILE,ACCOUNT_DELETED,GET_REPOS,NO_REPOS}from'./types';// Get current users profile\nexport var getCurrentProfile=function getCurrentProfile(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.get('/profile/me');case 3:res=_context.sent;dispatch({type:GET_PROFILE,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context.t0.response.statusText,status:_context.t0.response.status}});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Get all profiles\nexport var getProfiles=function getProfiles(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:CLEAR_PROFILE});_context2.prev=1;_context2.next=4;return api.get('/profile');case 4:res=_context2.sent;dispatch({type:GET_PROFILES,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:PROFILE_ERROR,payload:{msg:_context2.t0.response.statusText,status:_context2.t0.response.status}});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Get profile by ID\nexport var getProfileById=function getProfileById(userId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.get(\"/profile/user/\".concat(userId));case 3:res=_context3.sent;dispatch({type:GET_PROFILE,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context3.t0.response.statusText,status:_context3.t0.response.status}});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Get Github repos\nexport var getGithubRepos=function getGithubRepos(username){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.get(\"/profile/github/\".concat(username));case 3:res=_context4.sent;dispatch({type:GET_REPOS,payload:res.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:NO_REPOS});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// Create or update profile\nexport var createProfile=function createProfile(formData,history){var edit=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var res,errors;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return api.post('/profile',formData);case 3:res=_context5.sent;dispatch({type:GET_PROFILE,payload:res.data});dispatch(setAlert(edit?'Profile Updated':'Profile Created','success'));if(!edit){history.push('/dashboard');}_context5.next=14;break;case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](0);errors=_context5.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,'danger'));});}dispatch({type:PROFILE_ERROR,payload:{msg:_context5.t0.response.statusText,status:_context5.t0.response.status}});case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[0,9]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};// Add Experience\nexport var addExperience=function addExperience(formData,history){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var res,errors;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return api.put('/profile/experience',formData);case 3:res=_context6.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Experience Added','success'));history.push('/dashboard');_context6.next=14;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](0);errors=_context6.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,'danger'));});}dispatch({type:PROFILE_ERROR,payload:{msg:_context6.t0.response.statusText,status:_context6.t0.response.status}});case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[0,9]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};// Add Education\nexport var addEducation=function addEducation(formData,history){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var res,errors;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return api.put('/profile/education',formData);case 3:res=_context7.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Education Added','success'));history.push('/dashboard');_context7.next=14;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);errors=_context7.t0.response.data.errors;if(errors){errors.forEach(function(error){return dispatch(setAlert(error.msg,'danger'));});}dispatch({type:PROFILE_ERROR,payload:{msg:_context7.t0.response.statusText,status:_context7.t0.response.status}});case 14:case\"end\":return _context7.stop();}}},_callee7,null,[[0,9]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};// Delete experience\nexport var deleteExperience=function deleteExperience(id){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return api.delete(\"/profile/experience/\".concat(id));case 3:res=_context8.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Experience Removed','success'));_context8.next=11;break;case 8:_context8.prev=8;_context8.t0=_context8[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context8.t0.response.statusText,status:_context8.t0.response.status}});case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[0,8]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};// Delete education\nexport var deleteEducation=function deleteEducation(id){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return api.delete(\"/profile/education/\".concat(id));case 3:res=_context9.sent;dispatch({type:UPDATE_PROFILE,payload:res.data});dispatch(setAlert('Education Removed','success'));_context9.next=11;break;case 8:_context9.prev=8;_context9.t0=_context9[\"catch\"](0);dispatch({type:PROFILE_ERROR,payload:{msg:_context9.t0.response.statusText,status:_context9.t0.response.status}});case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[0,8]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};// Delete account & profile\nexport var deleteAccount=function deleteAccount(){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!window.confirm('Are you sure? This can NOT be undone!')){_context10.next=12;break;}_context10.prev=1;_context10.next=4;return api.delete('/profile');case 4:dispatch({type:CLEAR_PROFILE});dispatch({type:ACCOUNT_DELETED});dispatch(setAlert('Your account has been permanently deleted'));_context10.next=12;break;case 9:_context10.prev=9;_context10.t0=_context10[\"catch\"](1);dispatch({type:PROFILE_ERROR,payload:{msg:_context10.t0.response.statusText,status:_context10.t0.response.status}});case 12:case\"end\":return _context10.stop();}}},_callee10,null,[[1,9]]);}));return function(_x10){return _ref10.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/zhichengqian/Desktop/Project/ReactProject/MERN/mern/client/src/actions/profile.js"],"names":["api","setAlert","GET_PROFILE","GET_PROFILES","PROFILE_ERROR","UPDATE_PROFILE","CLEAR_PROFILE","ACCOUNT_DELETED","GET_REPOS","NO_REPOS","getCurrentProfile","dispatch","get","res","type","payload","data","msg","response","statusText","status","getProfiles","getProfileById","userId","getGithubRepos","username","createProfile","formData","history","edit","post","push","errors","forEach","error","addExperience","put","addEducation","deleteExperience","id","delete","deleteEducation","deleteAccount","window","confirm"],"mappings":"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","sourcesContent":["import api from '../utils/api';\nimport { setAlert } from './alert';\n\nimport {\n    GET_PROFILE,\n    GET_PROFILES,\n    PROFILE_ERROR,\n    UPDATE_PROFILE,\n    CLEAR_PROFILE,\n    ACCOUNT_DELETED,\n    GET_REPOS,\n    NO_REPOS\n} from './types';\n\n// Get current users profile\nexport const getCurrentProfile = () => async dispatch => {\n    try {\n        const res = await api.get('/profile/me');\n\n        dispatch({\n            type: GET_PROFILE,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Get all profiles\nexport const getProfiles = () => async dispatch => {\n    dispatch({ type: CLEAR_PROFILE });\n\n    try {\n        const res = await api.get('/profile');\n\n        dispatch({\n            type: GET_PROFILES,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Get profile by ID\nexport const getProfileById = userId => async dispatch => {\n    try {\n        const res = await api.get(`/profile/user/${userId}`);\n\n        dispatch({\n            type: GET_PROFILE,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Get Github repos\nexport const getGithubRepos = username => async dispatch => {\n    try {\n        const res = await api.get(`/profile/github/${username}`);\n\n        dispatch({\n            type: GET_REPOS,\n            payload: res.data\n        });\n    } catch (err) {\n        dispatch({\n            type: NO_REPOS\n        });\n    }\n};\n\n// Create or update profile\nexport const createProfile = (\n    formData,\n    history,\n    edit = false\n) => async dispatch => {\n    try {\n        const res = await api.post('/profile', formData);\n\n        dispatch({\n            type: GET_PROFILE,\n            payload: res.data\n        });\n\n        dispatch(setAlert(edit ? 'Profile Updated' : 'Profile Created', 'success'));\n\n        if (!edit) {\n            history.push('/dashboard');\n        }\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Add Experience\nexport const addExperience = (formData, history) => async dispatch => {\n    try {\n        const res = await api.put('/profile/experience', formData);\n\n        dispatch({\n            type: UPDATE_PROFILE,\n            payload: res.data\n        });\n\n        dispatch(setAlert('Experience Added', 'success'));\n\n        history.push('/dashboard');\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Add Education\nexport const addEducation = (formData, history) => async dispatch => {\n    try {\n        const res = await api.put('/profile/education', formData);\n\n        dispatch({\n            type: UPDATE_PROFILE,\n            payload: res.data\n        });\n\n        dispatch(setAlert('Education Added', 'success'));\n\n        history.push('/dashboard');\n    } catch (err) {\n        const errors = err.response.data.errors;\n\n        if (errors) {\n            errors.forEach(error => dispatch(setAlert(error.msg, 'danger')));\n        }\n\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Delete experience\nexport const deleteExperience = id => async dispatch => {\n    try {\n        const res = await api.delete(`/profile/experience/${id}`);\n\n        dispatch({\n            type: UPDATE_PROFILE,\n            payload: res.data\n        });\n\n        dispatch(setAlert('Experience Removed', 'success'));\n    } catch (err) {\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Delete education\nexport const deleteEducation = id => async dispatch => {\n    try {\n        const res = await api.delete(`/profile/education/${id}`);\n\n        dispatch({\n            type: UPDATE_PROFILE,\n            payload: res.data\n        });\n\n        dispatch(setAlert('Education Removed', 'success'));\n    } catch (err) {\n        dispatch({\n            type: PROFILE_ERROR,\n            payload: { msg: err.response.statusText, status: err.response.status }\n        });\n    }\n};\n\n// Delete account & profile\nexport const deleteAccount = () => async dispatch => {\n    if (window.confirm('Are you sure? This can NOT be undone!')) {\n        try {\n            await api.delete('/profile');\n\n            dispatch({ type: CLEAR_PROFILE });\n            dispatch({ type: ACCOUNT_DELETED });\n\n            dispatch(setAlert('Your account has been permanently deleted'));\n        } catch (err) {\n            dispatch({\n                type: PROFILE_ERROR,\n                payload: { msg: err.response.statusText, status: err.response.status }\n            });\n        }\n    }\n};\n"]},"metadata":{},"sourceType":"module"}