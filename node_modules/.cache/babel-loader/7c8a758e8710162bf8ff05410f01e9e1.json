{"ast":null,"code":"import axios from'axios';import store from'../store';import{LOGOUT}from'../actions/types';var api=axios.create({baseURL:'/api',headers:{'Content-Type':'application/json'}});api.interceptors.response.use(function(res){return res;},function(err){if(err.response.data.msg==='Token is not valid'){store.dispatch({type:LOGOUT});}return Promise.reject(err);});export default api;","map":{"version":3,"sources":["/Users/zhichengqian/Desktop/Project/ReactProject/MERN/mern/client/src/utils/api.js"],"names":["axios","store","LOGOUT","api","create","baseURL","headers","interceptors","response","use","res","err","data","msg","dispatch","type","Promise","reject"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,OAASC,MAAT,KAAuB,kBAAvB,CAEA,GAAMC,CAAAA,GAAG,CAAGH,KAAK,CAACI,MAAN,CAAa,CACrBC,OAAO,CAAE,MADY,CAErBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFY,CAAb,CAAZ,CAQAH,GAAG,CAACI,YAAJ,CAAiBC,QAAjB,CAA0BC,GAA1B,CACI,SAAAC,GAAG,QAAIA,CAAAA,GAAJ,EADP,CAEI,SAAAC,GAAG,CAAI,CACH,GAAIA,GAAG,CAACH,QAAJ,CAAaI,IAAb,CAAkBC,GAAlB,GAA0B,oBAA9B,CAAoD,CAChDZ,KAAK,CAACa,QAAN,CAAe,CAAEC,IAAI,CAAEb,MAAR,CAAf,EACH,CACD,MAAOc,CAAAA,OAAO,CAACC,MAAR,CAAeN,GAAf,CAAP,CACH,CAPL,EAUA,cAAeR,CAAAA,GAAf","sourcesContent":["import axios from 'axios';\nimport store from '../store';\nimport { LOGOUT } from '../actions/types';\n\nconst api = axios.create({\n    baseURL: '/api',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n});\n\n\napi.interceptors.response.use(\n    res => res,\n    err => {\n        if (err.response.data.msg === 'Token is not valid') {\n            store.dispatch({ type: LOGOUT });\n        }\n        return Promise.reject(err);\n    }\n);\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}