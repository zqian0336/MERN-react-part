{"ast":null,"code":"import React,{Fragment}from'react';import{Link}from'react-router-dom';import Moment from'react-moment';import{connect}from'react-redux';import{addLike,removeLike,deletePost}from'../../actions/post';var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/React.createElement(\"div\",{className:\"post bg-white p-1 my-1\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(user)},/*#__PURE__*/React.createElement(\"img\",{className:\"round-img\",src:avatar,alt:\"\"}),/*#__PURE__*/React.createElement(\"h4\",null,name))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"my-1\"},text),/*#__PURE__*/React.createElement(\"p\",{className:\"post-date\"},\"Posted on \",/*#__PURE__*/React.createElement(Moment,{format:\"YYYY/MM/DD\"},date)),showActions&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return addLike(_id);},type:\"button\",className:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-thumbs-up\"}),' ',/*#__PURE__*/React.createElement(\"span\",null,likes.length>0&&/*#__PURE__*/React.createElement(\"span\",null,likes.length))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return removeLike(_id);},type:\"button\",className:\"btn btn-light\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-thumbs-down\"})),/*#__PURE__*/React.createElement(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-primary\"},\"Discussion\",' ',comments.length>0&&/*#__PURE__*/React.createElement(\"span\",{className:\"comment-count\"},comments.length)),!auth.loading&&user===auth.user._id&&/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return deletePost(_id);},type:\"button\",className:\"btn btn-danger\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})))));};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"sources":["/Users/zhichengqian/Desktop/Project/ReactProject/MERN/mern/client/src/components/posts/PostItem.js"],"names":["React","Fragment","Link","Moment","connect","addLike","removeLike","deletePost","PostItem","auth","post","_id","text","name","avatar","user","likes","comments","date","showActions","length","loading","defaultProps","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,CAAkBC,UAAlB,CAA8BC,UAA9B,KAAgD,oBAAhD,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,UACKH,CAAAA,OADL,MACKA,OADL,CAEKC,UAFL,MAEKA,UAFL,CAGKC,UAHL,MAGKA,UAHL,CAIKE,IAJL,MAIKA,IAJL,gBAKKC,IALL,CAKaC,GALb,WAKaA,GALb,CAKkBC,IALlB,WAKkBA,IALlB,CAKwBC,IALxB,WAKwBA,IALxB,CAK8BC,MAL9B,WAK8BA,MAL9B,CAKsCC,IALtC,WAKsCA,IALtC,CAK4CC,KAL5C,WAK4CA,KAL5C,CAKmDC,QALnD,WAKmDA,QALnD,CAK6DC,IAL7D,WAK6DA,IAL7D,CAMKC,WANL,MAMKA,WANL,oBAQb,2BAAK,SAAS,CAAC,wBAAf,eACI,4CACI,oBAAC,IAAD,EAAM,EAAE,oBAAcJ,IAAd,CAAR,eACI,2BAAK,SAAS,CAAC,WAAf,CAA2B,GAAG,CAAED,MAAhC,CAAwC,GAAG,CAAC,EAA5C,EADJ,cAEI,8BAAKD,IAAL,CAFJ,CADJ,CADJ,cAOI,4CACI,yBAAG,SAAS,CAAC,MAAb,EAAqBD,IAArB,CADJ,cAEI,yBAAG,SAAS,CAAC,WAAb,4BACc,oBAAC,MAAD,EAAQ,MAAM,CAAC,YAAf,EAA6BM,IAA7B,CADd,CAFJ,CAMKC,WAAW,eACR,oBAAC,QAAD,mBACI,8BACI,OAAO,CAAE,yBAAMd,CAAAA,OAAO,CAACM,GAAD,CAAb,EADb,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,eAHd,eAKI,yBAAG,SAAS,CAAC,kBAAb,EALJ,CAKuC,GALvC,cAMI,gCAAOK,KAAK,CAACI,MAAN,CAAe,CAAf,eAAoB,gCAAOJ,KAAK,CAACI,MAAb,CAA3B,CANJ,CADJ,cASI,8BACI,OAAO,CAAE,yBAAMd,CAAAA,UAAU,CAACK,GAAD,CAAhB,EADb,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,eAHd,eAKI,yBAAG,SAAS,CAAC,oBAAb,EALJ,CATJ,cAgBI,oBAAC,IAAD,EAAM,EAAE,kBAAYA,GAAZ,CAAR,CAA2B,SAAS,CAAC,iBAArC,eACe,GADf,CAEKM,QAAQ,CAACG,MAAT,CAAkB,CAAlB,eACG,4BAAM,SAAS,CAAC,eAAhB,EAAiCH,QAAQ,CAACG,MAA1C,CAHR,CAhBJ,CAsBK,CAACX,IAAI,CAACY,OAAN,EAAiBN,IAAI,GAAKN,IAAI,CAACM,IAAL,CAAUJ,GAApC,eACG,8BACI,OAAO,CAAE,yBAAMJ,CAAAA,UAAU,CAACI,GAAD,CAAhB,EADb,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,gBAHd,eAKI,yBAAG,SAAS,CAAC,cAAb,EALJ,CAvBR,CAPR,CAPJ,CARa,EAAjB,CA2DAH,QAAQ,CAACc,YAAT,CAAwB,CACpBH,WAAW,CAAE,IADO,CAAxB,CAaA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9Bf,IAAI,CAAEe,KAAK,CAACf,IADkB,CAAL,EAA7B,CAIA,cAAeL,CAAAA,OAAO,CAClBmB,eADkB,CAElB,CAAElB,OAAO,CAAPA,OAAF,CAAWC,UAAU,CAAVA,UAAX,CAAuBC,UAAU,CAAVA,UAAvB,CAFkB,CAAP,CAGbC,QAHa,CAAf","sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Moment from 'react-moment';\nimport { connect } from 'react-redux';\nimport { addLike, removeLike, deletePost } from '../../actions/post';\n\nconst PostItem = ({\n                      addLike,\n                      removeLike,\n                      deletePost,\n                      auth,\n                      post: { _id, text, name, avatar, user, likes, comments, date },\n                      showActions\n                  }) => (\n    <div className='post bg-white p-1 my-1'>\n        <div>\n            <Link to={`/profile/${user}`}>\n                <img className='round-img' src={avatar} alt='' />\n                <h4>{name}</h4>\n            </Link>\n        </div>\n        <div>\n            <p className='my-1'>{text}</p>\n            <p className='post-date'>\n                Posted on <Moment format='YYYY/MM/DD'>{date}</Moment>\n            </p>\n\n            {showActions && (\n                <Fragment>\n                    <button\n                        onClick={() => addLike(_id)}\n                        type='button'\n                        className='btn btn-light'\n                    >\n                        <i className='fas fa-thumbs-up' />{' '}\n                        <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n                    </button>\n                    <button\n                        onClick={() => removeLike(_id)}\n                        type='button'\n                        className='btn btn-light'\n                    >\n                        <i className='fas fa-thumbs-down' />\n                    </button>\n                    <Link to={`/posts/${_id}`} className='btn btn-primary'>\n                        Discussion{' '}\n                        {comments.length > 0 && (\n                            <span className='comment-count'>{comments.length}</span>\n                        )}\n                    </Link>\n                    {!auth.loading && user === auth.user._id && (\n                        <button\n                            onClick={() => deletePost(_id)}\n                            type='button'\n                            className='btn btn-danger'\n                        >\n                            <i className='fas fa-times' />\n                        </button>\n                    )}\n                </Fragment>\n            )}\n        </div>\n    </div>\n);\n\nPostItem.defaultProps = {\n    showActions: true\n};\n\nPostItem.propTypes = {\n    post: PropTypes.object.isRequired,\n    auth: PropTypes.object.isRequired,\n    addLike: PropTypes.func.isRequired,\n    removeLike: PropTypes.func.isRequired,\n    deletePost: PropTypes.func.isRequired,\n    showActions: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth\n});\n\nexport default connect(\n    mapStateToProps,\n    { addLike, removeLike, deletePost }\n)(PostItem);\n"]},"metadata":{},"sourceType":"module"}